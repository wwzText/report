<template>
  <div class="life-main">
    <!-- <swiper
      :options="swiperOptionsObject"
      @slideChangeTransitionEnd="slideChangeTransitionEnd"
    >
      <SwiperSlide>
        <GreenMain>
          <div class="text-main animated fadeIn">
            <p class="text center">过去的一年，你的平安与焦虑</p>
            <p class="text center">我们记得</p>
            <p class="text center">过去的一年，你的身影与汗水</p>
            <p class="text center">我们记得</p>
            <p class="text center">过去的一年，你的努力与拼搏</p>
            <p class="text center">我们记得</p>
            <p class="text center">过去的一年，你的笑脸与喜悦</p>
            <p class="text center">我们记得</p>
            <p class="text center">这一刻，请我们一起打开这封属于你的</p>
            <p class="text center">2020年CRM年度账单</p>
          </div>
        </GreenMain>
      </SwiperSlide>
      <SwiperSlide>
        <GreenMain>

            <div class="text-main">
              <p class="title">走进一线</p>
              <p class="text left">侯总在年初提出了“五点一线”，年中提</p>
              <p class="text left">倡“深入一线”；“一线”是今年的重中</p>
              <p class="text left">之重，也一直是我们雪花人的制胜法宝，</p>
              <p class="text left">那么，这一年你在一线终端；</p>
            </div>
            <div style="display: flex; flex-wrap: wrap; padding-top: 20px">
              <div class="swiper2-number">
                <p class="swiper2-text">累计拜访了</p>
                <p class="swiper2-text">
                  <span class="number">100</span>家终端
                </p>
              </div>
              <div class="swiper2-number">
                <p class="swiper2-text">累计拜访了</p>
                <p class="swiper2-text">
                  <span class="number">100</span>家终端
                </p>
              </div>
              <div class="swiper2-number">
                <p class="swiper2-text">累计拜访了</p>
                <p class="swiper2-text">
                  <span class="number">100</span>家终端
                </p>
              </div>
              <div class="swiper2-number">
                <p class="swiper2-text">累计拜访了</p>
                <p class="swiper2-text">
                  <span class="number">100</span>家终端
                </p>
              </div>
            </div>
        </GreenMain>
      </SwiperSlide>
      <SwiperSlide>
        <GreenMain>
          <div class="text-main">
              <p class="title">深耕终端</p>
              <p class="text left">
                终端做的好坏，有的人说是靠产品，有的人说是靠政策，只有你知道靠的是走心。
              </p>
              <p class="text left">这一年，你在终端身上投入了大量的时间：</p>
            </div>
            <div style="padding-top: 20px" class="text-comp">
              <p class="swiper3-text">
                有<span class="number">365</span
                >天你不顾风雨，不顾酷暑和寒冬，走进一家又一家终端；
              </p>
              <p class="swiper3-text">
                有<span class="number">3280</span
                >分种你在终端谈店、维护客情、覆盖新产品等等；
              </p>
              <p class="swiper3-text">
                有<span class="number">2298</span
                >张照片记录下你对终端的投入与付出；
              </p>
              <p class="swiper3-text">
                有<span class="number">78</span
                >支产品你每次进店都会检查他们的价格，陈列；
              </p>
              <p class="swiper3-text">我们知道，你做的还有更多更多</p>
            </div>
        </GreenMain>
      </SwiperSlide>
      <SwiperSlide>
        <GreenMain>
          <div class="text-main">
              <p class="title">荣耀时刻</p>
              <p class="number" style="margin-top: 40px">2020年10月02日</p>
              <p class="text">特别的一天</p>
              <p class="text">这一天对我们很普通，对你很特别</p>
              <p class="text">还记得么？</p>
              <p class="swiper4-text">
                你在市场走店走了<span class="number">1100</span>分钟，相当于是
                <span class="number">10</span>小时
              </p>
              <p class="swiper4-text" style="margin-top: 20px">
                你忙碌的背影遮住了流下的汗水；
              </p>
              <p class="swiper4-text">
                我们默默的数着你走进走出 <span class="number">1</span>家终端
              </p>
              <p class="swiper4-text" style="margin-top: 20px">努力看得见</p>
              <p class="swiper4-text">这一年你拜访记录在工作圈被大家点赞了</p>
              <p class="swiper4-text">
                <span class="number">1100</span>次，评论了
                <span class="number">10</span>次；
              </p>
              <p class="swiper4-text">
                你也去点赞评论了 <span>100</span>次优秀同事的工作圈；
              </p>
            </div>
        </GreenMain>
      </SwiperSlide>
      <SwiperSlide>
        <GreenMain>
          <div class="text-main">
              <p class="title">榜上有名</p>
              <p class="text" style="margin-top: 20px">你最常去的终端是：</p>
              <p class="number">终端</p>
              <p class="text">这家的业务目标都达成了么</p>
              <p class="swiper5-text" style="margin-top: 30px">
                你最早进店的一次是<span class="number">10</span>月<span
                  class="number"
                  >10</span
                >日<span class="number">10</span>点<span class="number">10</span
                >分进入<span class="number">某某</span>终端
              </p>
              <p class="swiper5-text" style="margin-top: 30px">
                你最晚离开的一次是<span class="number">10</span>月<span
                  class="number"
                  >10</span
                >日<span class="number">10</span>点<span class="number">10</span
                >分进入<span class="number">某某</span>终端
              </p>
              <p class="swiper5-text" style="margin-top: 30px">
                你最常去拜访的时间段是<span class="number">10</span>点到<span
                  class="number"
                  >12</span
                >点
              </p>
            </div>
        </GreenMain>
      </SwiperSlide>
      <SwiperSlide>
        <RedMain>
          <div class="text-main">
            <p class="title">这一刻，敬自己</p>
            <p class="swiper6-text">疫情期间，你也在积极响应国家及公司的复工安排。</p>
            <p class="swiper6-text">在<span class="number">1</span>月<span>1</span>日你便开始了疫情期间的第一次拜访。</p>
            <p class="swiper6-text">这期间，你拜访了 <span class="number">1000</span>家终端，安抚终端担扰，告诉他们我们雪花与你们同在；</p>
            <p class="swiper6-text">这期间，你累计拜访了<span class="number">121</span>分钟，外面每一秒都很危险，但是你深知企业需要我，市场需要我；</p>
            <p class="swiper6-text">这期间，你有<span class="number">111</span>天是在市场上奔波，一箱箱雪花啤酒再次铺进终端，送到消费者面前。</p>
          </div>
        </RedMain>
      </SwiperSlide>
      <SwiperSlide>
        <div class="crm-all-main2">
          <img
            src="./../../assets/img/crm_life/crm_logo.png"
            class="crm-logo"
          />
          <div class="crm-content-bg2">
            <div class="text-main">
              <input type="file" @change="chooseImage" />
            </div>
          </div>
        </div>
      </SwiperSlide>
    </swiper> -->
    <CrmBgMain></CrmBgMain>
  </div>
</template>

<script>
import { Swiper, SwiperSlide } from "vue-awesome-swiper";
import "swiper/swiper-bundle.css";
import COS from "@/assets/cos-js-sdk-v5.min.js";
import { APP_VERSION } from "@/config/system.config.js";
import { timeStampToTime, getImgOriginalUrl } from "@/utils/index.js";

import GreenMain from "@/components/crmLife/greenMain";
import RedMain from "@/components/crmLife/redMain";
import CrmBgMain from '@/components/crmLife/crmBgMain'

let swiperOptions = {
  width: window.innerWidth,
  zoom: true,
  initialSlide: 0,
  direction: "vertical",
  on: {
    slideChangeTransitionEnd() {
      this.initialSlide = this.activeIndex;
    },
  },
};
export default {
  components: {
    Swiper,
    SwiperSlide,
    GreenMain,
    RedMain,
    CrmBgMain
  },
  data() {
    return {
      swiperOptionsObject: swiperOptions,
      initialSlide: 2,
    };
  },

  methods: {
    slideChangeTransitionEnd(e) {
      console.log(e.activeIndex);
      this.initialSlide = e.activeIndex;
    },
    chooseImage(e) {
      let fileObj = e.target.files[0];
      let cos = new COS({
        SecretId: "AKIDGL9i05cRjmgGXgnbO1mTtMYhDarqs26A",
        SecretKey: "6TZ4GWkHSmqeCTje1KEsEJPNIwKRcvGb",
      });
      let name = fileObj.name;
      let imgType = name.substr(name.lastIndexOf("."));
      let timestamp = Date.parse(new Date());
      let curDate = timeStampToTime("", "YYYY-MM-DD");
      let Key = `TCOS/crmLife/${curDate.replace(/-/g, "")}/${curDate.replace(
        /-/g,
        ""
      )}${timestamp}${imgType}`;
      cos.putObject(
        {
          Bucket: "sfa-" + APP_VERSION + "-1259627966",
          Region: "ap-chengdu",
          Key,
          Body: fileObj,
        },
        function (err, data) {
          if (data) {
            getImgOriginalUrl(data.Location).then((imgRes) => {
              console.log(imgRes[0]);
            });
          }
        }
      );
    },

    newCos() {
      return;
    },
  },
};
</script>

<style lang="less" scoped>
@import url("./../../assets/css/animate.min.css");
@import url("./index.less");
</style>
